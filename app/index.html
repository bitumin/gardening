<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=960">
  <title>Gardening Tools</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>

<!--app-->
<div id="app">

  <!--left menu-->
  <div id="left-menu">
    <h1 class="title">Gardening Tools</h1>
    <h2 class="parent-title">
      PLANTAS
      <a id="btn-open-add-plant-modal"><i class="fa fa-plus-circle"></i></a>
    </h2>
    <ul id="left-menu-items-list" class="nav nav-pills nav-stacked">
      <!--li items will be populated on app initialization-->
    </ul>
    <!--/left menu-->
  </div>
  <!--/left menu-->

  <!--content-->
  <div id="content">

    <!--welcome-->
    <div id="content-welcome" class="row animated">
      <h1>Bienvenido/a a <br>Gardening Tools</h1>
      <p>
        Powered by Node.js <script>document.write(process.versions.node);</script>,
        <script>(function(){let match = navigator.userAgent.match(/(Chrom[e|ium])\/([0-9]+)\./);
          document.write(match[1] + ' ' + match[2]);})();</script>
        and NW.js <script>document.write(process.versions['node-webkit']);</script>
      </p>
    </div>
    <!--/welcome-->

    <!--plant-->
    <div id="content-plant" class="animated" data-plant-id="0">
      <span id="content-plant-title-name">plant name</span>
      <span id="content-plant-title-genetic">plant genetic</span>
      <span id="content-plant-title-origin">plant origin</span>
      <!--tabs nav-->
      <ul class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active">
          <a href="#plant-children" aria-controls="children" role="tab" data-toggle="tab">Hijos</a>
        </li>
        <li role="presentation">
          <a href="#plant-stats" aria-controls="stats" role="tab" data-toggle="tab">Estadísticas</a>
        </li>
      </ul>
      <!--/tabs nav-->

      <!-- tabs content-->
      <div class="tab-content">
        <!--plant children tabpanel-->
        <div role="tabpanel" class="tab-pane active" id="plant-children">
          <div>
            <a class="btn btn-xs btn-success btn-open-add-child-modal">
              <i class="fa fa-plus-circle"></i> Añadir hijo
            </a>
          </div>
          <table id="plant-children-table" class="display table table-striped table-bordered table-hover">
            <thead>
            <tr>
              <th></th>
              <th>UUID</th>
              <th>Fecha entrada</th>
              <th>Fecha salida</th>
              <th>Altura entrada</th>
              <th>Altura salida</th>
              <th>Calidad entrada</th>
              <th>Calidad salida</th>
              <th>Sala</th>
              <th>Producción</th>
              <th>Defectos</th>
              <th>Comentarios</th>
              <th></th>
              <th></th>
            </tr>
            </thead>
            <tfoot>
            <tr>
              <th></th>
              <th>UUID</th>
              <th>Fecha entrada</th>
              <th>Fecha salida</th>
              <th>Altura entrada</th>
              <th>Altura salida</th>
              <th>Calidad entrada</th>
              <th>Calidad salida</th>
              <th>Sala</th>
              <th>Producción</th>
              <th>Defectos</th>
              <th>Comentarios</th>
              <th></th>
              <th></th>
            </tr>
            </tfoot>
            <tbody>
            <!--data goes here-->
            </tbody>
          </table>
        </div>
        <!--/plant children tabpanel-->

        <!--plant stats tabpanel-->
        <div role="tabpanel" class="tab-pane" id="plant-stats">
          <form class="" id="stat-form" action="javascript:">
            <div>
              <label class="col-xs-3" for="plant-stats-date-reporting">Reporting period:</label>
              <div class="input-group input-daterange col-xs-9" id="plant-stats-date-reporting">
                <select class="form-control" name="plantStatsDateReporting">
                  <option value="D">Day</option>
                  <option value="M">Month</option>
                  <option value="Y">Year</option>
                </select>
              </div>
            </div>
            <div>
              <label class="col-xs-3" for="plant-stats-date-range">Date range:</label>
              <div class="input-group input-daterange col-xs-9" id="plant-stats-date-range">
                  <input type="text" class="form-control" id="plant-stats-date-from" name="plantStatsDateFrom" value="2012-04-05" required>
                  <span class="input-group-addon">to</span>
                  <input type="text" class="form-control" id="plant-stats-date-to" name="plantStatsDateTo" value="2012-04-19" required>
              </div>
            </div>
            <br />
            <div>
              <label class="col-xs-3" for="plant-stats-lines">Lines:</label>
              <div class="input-group col-xs-9" id="plant-stats-lines">
                <div class="checkbox">
                  <label class="col-xs-5"><input type="checkbox" name="plantStatsLines" value="total-children-production" checked/>Total children production</label>
                  <label class="col-xs-5"><input type="checkbox" name="plantStatsLines" value="avg-children-production"/>Average children production</label>
                </div>
                <div class="checkbox">
                  <label class="col-xs-5"><input type="checkbox" name="plantStatsLines" value="avg-in-quality" />Average in quality</label>
                  <label class="col-xs-5"><input type="checkbox" name="plantStatsLines" value="avg-out-quality"/>Average out quality</label>
                </div>
                <div class="checkbox">
                  <label class="col-xs-5"><input type="checkbox" name="plantStatsLines" value="avg-in-height"/>Average in height</label>
                  <label class="col-xs-5"><input type="checkbox" name="plantStatsLines" value="avg-out-height"/>Average out height</label>
                </div>
              </div>
            </div>
            <input type="submit" class="btn btn-success" value="Refresh" />
          </form>
          <div id="curve_chart"></div>
        </div>
        <!--/plant stats tabpanel-->
      </div>
      <!--/tabs content-->
    </div>
    <!--/plant-->

    <!--child-->
    <div id="content-child" class="animated">
      <h1>Child content</h1>
    </div>
    <!--/child-->

  </div>
  <!--/content-->

</div>
<!--/app-->

<!--add new plant modal-->
<div class="modal fade" id="add-plant-modal" tabindex="-1" role="dialog" aria-labelledby="addPlantModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="addPlantModalLabel">
          Add new plant
        </h4>
      </div>
      <form role="form" class="form-horizontal" id="add-plant-form" action="javascript:">
        <div class="modal-body">
          <div class="form-group">
            <label class="control-label col-xs-3" for="add-plant-name">Name:</label>
            <div class="col-xs-9">
              <input type="text" class="form-control" name="addPlantName" id="add-plant-name" maxlength="24">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-3" for="add-plant-number">Number:</label>
            <div class="col-xs-9">
              <input type="number" class="form-control" name="addPlantNumber" id="add-plant-number" min="0" step="1">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-3" for="add-plant-genetics">Genetics:</label>
            <div class="col-xs-9">
              <input type="text" class="form-control" name="addPlantGenetics" id="add-plant-genetics">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-3" for="add-plant-origin">Origin:</label>
            <div class="col-xs-9">
              <input type="text" class="form-control" name="addPlantOrigin" id="add-plant-origin">
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-success"><i class="fa fa-leaf"></i> Add new plant</button>
        </div>
      </form>
    </div>
  </div>
</div>
<!--/add new plant modal-->

<!--edit existing plant modal-->
<div class="modal fade" id="edit-plant-modal" tabindex="-1" role="dialog" aria-labelledby="editPlantModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="editPlantModalLabel">
          Edit plant: <span id="edit-plant-title"></span>
        </h4>
      </div>
      <form role="form" class="form-horizontal" id="edit-plant-form" action="javascript:">
        <div class="modal-body">
          <input type="hidden" name="editPlantId" id="edit-plant-id" value="">
          <div class="form-group">
            <label class="control-label col-xs-3" for="edit-plant-name">Name:</label>
            <div class="col-xs-9">
              <input type="text" class="form-control" name="editPlantName" id="edit-plant-name" maxlength="24">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-3" for="edit-plant-number">Number:</label>
            <div class="col-xs-9">
              <input type="number" class="form-control" name="editPlantNumber" id="edit-plant-number" min="0" step="1">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-3" for="edit-plant-genetics">Genetics:</label>
            <div class="col-xs-9">
              <input type="text" class="form-control" name="editPlantGenetics" style="width: 100%;" id="edit-plant-genetics">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-3" for="edit-plant-origin">Origin:</label>
            <div class="col-xs-9">
              <input type="text" class="form-control" name="editPlantOrigin" id="edit-plant-origin">
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-primary"><i class="fa fa-floppy-o"></i> Save changes</button>
        </div>
      </form>
    </div>
  </div>
</div>
<!--/edit existing plant modal-->

<!--delete existing plant modal-->
<div class="modal fade" id="delete-plant-modal" tabindex="-1" role="dialog" aria-labelledby="deletePlantModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="deletePlantModalLabel">
          Delete plant
        </h4>
      </div>
      <div class="modal-body">
        Are you sure you want to delete this plant? All the plant information will be erased from
        database, including its children and related stats.<br>
        Once confirmed, this action can not be undone!
      </div>
      <div class="modal-footer">
        <form role="form" class="form-horizontal" id="delete-plant-form" action="javascript:">
          <input type="hidden" name="deletePlantId" id="delete-plant-id" value="">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-danger"><i class="fa fa-warning"></i> Confirm delete</button>
        </form>
      </div>
    </div>
  </div>
</div>
<!--/delete existing plant modal-->

<!--add new child modal-->
<div class="modal fade" id="add-child-modal" tabindex="-1" role="dialog" aria-labelledby="addChildModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="addChildModalLabel">
          Add new child
        </h4>
      </div>
      <form role="form" class="form-horizontal" id="add-child-form">
        <div class="modal-body">
          <div class="form-group required">
            <label class="control-label col-xs-3" for="add-child-in-date">In date:</label>
            <div class="col-xs-9">
              <input type="text" class="form-control" name="addChildInDate" id="add-child-in-date" required>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-3" for="add-child-out-date">Out date:</label>
            <div class="col-xs-9">
              <input type="text" class="form-control" name="addChildOutDate" id="add-child-out-date">
            </div>
          </div>
          <div class="form-group required">
            <label class="control-label col-xs-3" for="add-child-in-height">In height:</label>
            <div class="col-xs-9">
              <input type="number" class="form-control" name="addChildInHeight" id="add-child-in-height" required>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-3" for="add-child-out-height">Out height:</label>
            <div class="col-xs-9">
              <input type="number" class="form-control" name="addChildOutHeight" id="add-child-out-height">
            </div>
          </div>
          <div class="form-group required">
            <label class="control-label col-xs-3" for="add-child-in-quality">In quality:</label>
            <div class="col-xs-9">
              <input type="number" class="form-control" name="addChildInQuality" id="add-child-in-quality" required>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-3" for="add-child-out-quality">Out quality:</label>
            <div class="col-xs-9">
              <input type="number" class="form-control" name="addChildOutQuality" id="add-child-out-quality">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-3" for="add-child-room">Room:</label>
            <div class="col-xs-9">
              <input type="text" class="form-control" name="addChildRoom" id="add-child-room">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-3" for="add-child-production">Production:</label>
            <div class="col-xs-9">
              <input type="number" class="form-control" name="addChildProduction" id="add-child-production">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-3" for="add-child-defects">Defects:</label>
            <div class="col-xs-9">
              <input type="text" class="form-control" name="addChildDefects" id="add-child-defects">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-3" for="add-child-comments">Comments:</label>
            <div class="col-xs-9">
              <input type="text" class="form-control" name="addChildComments" id="add-child-comments">
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-success"><i class="fa fa-leaf"></i> Add new child</button>
        </div>
      </form>
    </div>
  </div>
</div>
<!--/add new child modal-->

<!--edit existing child modal-->
<div class="modal fade" id="edit-child-modal" tabindex="-1" role="dialog" aria-labelledby="editChildModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="editChildModalLabel">
          Edit child
        </h4>
      </div>
      <form role="form" class="form-horizontal" id="edit-child-form">
        <div class="modal-body">
          <div class="form-group required">
            <div class="col-xs-9">
              <input type="hidden" class="form-control" name="editChildUuid" id="edit-child-uuid" required>
            </div>
          </div>
          <div class="form-group required">
            <label class="control-label col-xs-3" for="edit-child-in-date">In date:</label>
            <div class="col-xs-9">
              <input type="text" class="form-control" name="editChildInDate" id="edit-child-in-date" required>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-3" for="edit-child-out-date">Out date:</label>
            <div class="col-xs-9">
              <input type="text" class="form-control" name="editChildOutDate" id="edit-child-out-date">
            </div>
          </div>
          <div class="form-group required">
            <label class="control-label col-xs-3" for="edit-child-in-height">In height:</label>
            <div class="col-xs-9">
              <input type="number" class="form-control" name="editChildInHeight" id="edit-child-in-height" required>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-3" for="edit-child-out-height">Out height:</label>
            <div class="col-xs-9">
              <input type="number" class="form-control" name="editChildOutHeight" id="edit-child-out-height">
            </div>
          </div>
          <div class="form-group required">
            <label class="control-label col-xs-3" for="edit-child-in-quality">In quality:</label>
            <div class="col-xs-9">
              <input type="number" class="form-control" name="editChildInQuality" id="edit-child-in-quality" required>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-3" for="edit-child-out-quality">Out quality:</label>
            <div class="col-xs-9">
              <input type="number" class="form-control" name="editChildOutQuality" id="edit-child-out-quality">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-3" for="edit-child-room">Room:</label>
            <div class="col-xs-9">
              <input type="text" class="form-control" name="editChildRoom" id="edit-child-room">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-3" for="edit-child-production">Production:</label>
            <div class="col-xs-9">
              <input type="number" class="form-control" name="editChildProduction" id="edit-child-production">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-3" for="edit-child-defects">Defects:</label>
            <div class="col-xs-9">
              <input type="text" class="form-control" name="editChildDefects" id="edit-child-defects">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-3" for="edit-child-comments">Comments:</label>
            <div class="col-xs-9">
              <input type="text" class="form-control" name="editChildComments" id="edit-child-comments">
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-success"><i class="fa fa-leaf"></i> Edit child</button>
        </div>
      </form>
    </div>
  </div>
</div>
<!--/edit existing child modal-->

<!--delete existing child modal-->
<div class="modal fade" id="delete-child-modal" tabindex="-1" role="dialog" aria-labelledby="deleteChildModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="deleteChildModalLabel">
          Delete child
        </h4>
      </div>
      <div class="modal-body">
        Are you sure you want to delete this child? All the child information will be erased from
        database, including its children and related stats.<br>
        Once confirmed, this action can not be undone!
      </div>
      <div class="modal-footer">
        <form role="form" class="form-horizontal" id="delete-child-form" action="javascript:">
          <input type="hidden" name="deleteChildUuid" id="delete-child-uuid" value="" required>
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-danger"><i class="fa fa-warning"></i> Confirm delete</button>
        </form>
      </div>
    </div>
  </div>
</div>
<!--/delete existing child modal-->

<!--todo: use modules to load all this in a more fashionable way-->
<!--JS libraries-->
<script src="libs/jquery/dist/jquery.min.js"></script>
<script>$.fn.serializeObject = function() {var o = {};var a = this.serializeArray();$.each(a, function() {if (o[this.name] !== undefined) {if (!o[this.name].push) {o[this.name] = [o[this.name]];}o[this.name].push(this.value || '');} else {o[this.name] = this.value || '';}});return o;};</script>
<script src="libs/underscore/underscore-min.js"></script>
<script src="libs/underscore.string/dist/underscore.string.min.js"></script>
<script src="libs/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="libs/datatables/datatables.min.js"></script>
<script src="libs/d3/d3.min.js"></script>
<script src="libs/moment/min/moment-with-locales.min.js"></script>
<script>moment.locale('es');</script>
<script src="libs/moment-timezone/builds/moment-timezone-with-data.min.js"></script>
<script src="libs/bootstrap-datepicker/dist/js/bootstrap-datepicker.js"></script>
<link href="libs/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css" rel="stylesheet" />
<script src="libs/EasyAutocomplete/dist/jquery.easy-autocomplete.min.js"></script>
<script src="node_modules/node-uuid/uuid.js"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<!--app JS-->
<script>var app = app || {};</script>
<script src="js/app.log.js"></script>
<script src="js/app.config.js"></script>
<script src="js/app.selectors.js"></script>
<script src="js/app.db.js"></script>
<script src="js/app.view-handlers.js"></script>
<script src="js/app.event-handlers.js"></script>
<script src="js/app.init.js"></script>
</body>
</html>
